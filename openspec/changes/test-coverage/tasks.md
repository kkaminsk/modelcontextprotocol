## 1. Test Infrastructure

- [x] 1.1 Install vitest as dev dependency — **1 min**
- [x] 1.2 Create `vitest.config.ts` — **1 min**
- [x] 1.3 Add `test` and `test:watch` scripts to package.json — **1 min**

## 2. Test Suites

- [x] 2.1 Write `validation.test.ts` — validateMessages (9 tests) + buildCommonOptions (17 tests) — **10 min**
- [x] 2.2 Write `api-client.test.ts` — buildChatBody (10 tests) + appendExtras (5 tests) + formatSearchResults (2 tests) + formatMultiQueryResults (2 tests) — **10 min**
- [x] 2.3 Write `config.test.ts` — getTimeoutMs (2 tests) — **3 min**
- [x] 2.4 Write `tools.test.ts` — all 6 tool handlers with mocked fetch (19 tests) — **15 min**

## 3. Validation

- [x] 3.1 Run `npm test` and verify all 67 tests pass — **1 min**
- [x] 3.2 Update CLAUDE.md with test commands — **1 min**
